/* ===============================
   i18n FR/EN â€” Hassen Portfolio
   =============================== */

const dict = {
  fr: {
    doc_title: "Hassen â€” CV / Portfolio",
    meta_desc: "CV / Portfolio de Hassen : compÃ©tences, projets, parcours, hobbies et objectifs.",

    brand_top: "Aller en haut",
    nav_toggle: "Ouvrir le menu",
    mnav_label: "Navigation mobile",

    nav_about: "Ã€ propos",
    nav_skills: "CompÃ©tences",
    nav_projects: "Projets",
    nav_xp: "Parcours",
    nav_hobbies: "Hobbies",
    nav_contact: "Contact",

    hero_pill: "CV interactif â€¢ HTML/CSS â€¢ Animations âœ¨",
    hero_photo_alt: "Photo de Hassen",
    hero_hi: "Salut, moi c'est",
    hero_typing: "CrÃ©atif + Tech",
    hero_lead:
      "J'aime construire des projets (web, code, lore) et apprendre en continu. Ici tu retrouves mon profil, mes compÃ©tences, mes projets, et en bas mes hobbies + objectifs ðŸŽ¯",
    hero_btn_projects: "Voir mes projets",
    hero_btn_contact: "Me contacter",

    stat_num_1: "Unity",
    stat_label_1: "Projets crÃ©atifs",
    stat_num_2: "C / Web",
    stat_label_2: "Tech & build",
    stat_num_3: "Raspberry",
    stat_label_3: "Hardware",

    profile_card_label: "Carte profil",
    profile_role: "Profil polyvalent â€¢ CrÃ©atif â€¢ DÃ©veloppeur en progression ðŸš€",
    chip_rpi: "Raspberry Pi",
    chip_writing: "Ã‰criture",
    profile_loc: "Localisation",
    profile_loc_value: "France ðŸ‡«ðŸ‡·",
    profile_avail: "DisponibilitÃ©",
    profile_avail_value: "Ã€ votre service !",
    profile_email: "Email",

    about_title: "Ã€ propos",
    about_sub: "Quelques lignes pour expliquer qui je suis, ce que je fais, ce que j'aime ðŸ”¥",
    about_profile_title: "Mon profil",
    about_profile_p:
      "TrÃ¨s curieux et crÃ©atif : je mÃ©lange le code, les projets techniques, et l'Ã©criture d'univers. J'aime apprendre, tester, itÃ©rer, amÃ©liorer mes idÃ©es et surtout dÃ©couvrir !",
    about_li_1: "ðŸ’¡ CrÃ©ativitÃ© : Ã©criture, lore, idÃ©es, narration",
    about_li_2: "ðŸ› ï¸ Technique : C, scripts, Raspberry Pi, web",
    about_li_3: "ðŸ“ˆ Progression : rigueur, apprentissage, dÃ©couverte",
    about_seek_title: "Ce que je cherche",
    about_seek_p:
      "Des projets oÃ¹ je peux Ãªtre utile, progresser, et construire quelque chose de solide avec une touche de style et d'identitÃ©. Comme dirait Vegeta : Â« Un super guerrier n'abandonne jamais. Â» ðŸ˜",
    about_tag_1: "DÃ©veloppement",
    about_tag_2: "CrÃ©ation",
    about_tag_3: "SystÃ¨mes & UI",
    about_tag_4: "Storytelling",

    skills_title: "CompÃ©tences",
    skills_sub: "Un format lisible, rapide, comme un CV âœ…",
    skills_web_title: "Web",
    skills_web_li1: "HTML sÃ©mantique",
    skills_web_li2: "CSS (layout, responsive, animations)",
    skills_web_li3: "UI propre & lisible",
    skills_web_hint: "Niveau : en progression ðŸ“ˆ",
    skills_code_title: "Code",
    skills_code_li1: "C (bases solides, logique)",
    skills_code_li2: "Scripts & debugging",
    skills_code_li3: "Raspberry Pi / petits projets",
    skills_code_hint: "Niveau : en progression ðŸ§ ",
    skills_crea_title: "CrÃ©atif",
    skills_crea_li1: "DÃ©veloppement de lore & univers narratifs",
    skills_crea_li2: "Worldbuilding & systÃ¨mes",
    skills_crea_li3: "Branding / identitÃ© visuelle",
    skills_crea_hint: "Niveau : trÃ¨s Ã  l'aise âœï¸",

    projects_title: "Projets",
    projects_sub: "Une sÃ©lection de mes projets personnels et professionnels ðŸ’ª",
    badge_tech: "Tech",
    badge_crea: "CrÃ©atif",
    badge_web: "Web",
    proj_rpi_title: "Raspberry Pi LCD",
    proj_rpi_p: "Affichage de texte / menus / interactions sur Ã©cran LCD, logique C, GPIO, etc.",
    proj_universe_title: "Univers narratif",
    proj_universe_p: "Construction d'un univers, personnages, lore, systÃ¨mes magiques et narration.",
    proj_cv_title: "CV interactif",
    proj_cv_p: "Page CV moderne en HTML/CSS, animations, sections, responsive.",
    proj_view: "Voir â†’",
    mini_story: "Story",
    mini_lore: "Lore",
    mini_world: "World",
    mini_anim: "Anim",

    xp_title: "Parcours",
    xp_sub: "Format timeline simple (tu remplaces par tes vraies infos) ðŸ§­",
    xp_2025_title: "2025 â€” Projet / Formation",
    xp_2025_desc: "Description courte : ce que tu apprends, ce que tu construis.",
    xp_2024_title: "2024 â€” ExpÃ©rience / Ã‰tudes",
    xp_2024_desc: "Description courte : responsabilitÃ©s, apprentissages, rÃ©sultats.",
    xp_before_title: "Avant â€” Bases",
    xp_before_desc: "Description courte : fondations, intÃ©rÃªts, Ã©volution.",

    hob_title: "Hobbies & Objectifs",
    hob_sub: "La partie â€œhumaineâ€ du CV : ce que tu aimes + oÃ¹ tu veux aller ðŸŒ™",
    hob_hobbies_title: "Hobbies",
    hob_li_1: "ðŸŽ® Jeux narratifs & inspirations (ex : univers sombres)",
    hob_li_2: "âœï¸ Ã‰criture & crÃ©ation d'univers",
    hob_li_3: "âœˆï¸ Voyage",
    hob_li_4: "ðŸŽ§ Musiques (Ã  personnaliser)",
    obj_title: "Objectifs",
    obj_li_1: "ðŸŽ¯ Monter en niveau en dev (C + Web)",
    obj_li_2: "ðŸ“š Apprendre quelque chose chaque jour",
    obj_li_3: "ðŸ§  Renforcer la rÃ©silience mentale",
    obj_li_4: "ðŸš€ Publier / prÃ©senter mes projets proprement",
    signature_label: "Phrase signature :",
    signature_quote: "â€œConstruire, apprendre, affiner.â€",

    lang_spoken: "Langues parlÃ©es",
    lang_learning: "En apprentissage",
    lang_fr: "FranÃ§ais",
    lang_en: "Anglais",
    lang_es: "Espagnol",
    lang_ru: "Russe",
    lang_level_native: "Natif",
    lang_level_intermediate: "IntermÃ©diaire",
    lang_in_progress: "En cours",
    lang_discovery: "DÃ©couverte",

    contact_title: "Contact",
    contact_sub: "Mon profil vous plaÃ®t ? Parlons-en ðŸ‘€",
    contact_details: "CoordonnÃ©es",
    contact_k_email: "Email",
    contact_k_github: "GitHub",
    contact_k_linkedin: "LinkedIn",
    contact_msg_title: "Mini message",
    contact_msg_p: "Ici tu peux Ã©crire un petit pitch : â€œJe suis dispo pourâ€¦â€, â€œJe chercheâ€¦â€, etc.",
    contact_send_mail: "Envoyer un email âœ‰ï¸",

    footer_line: "Â© 2025 â€” Hassen â€¢ Fait avec HTML/CSS âœ¨",
    footer_tip: "Astuce : remplace les textes â€œÃ€ renseignerâ€ par tes infos."
  },

  en: {
    doc_title: "Hassen â€” CV / Portfolio",
    meta_desc: "Hassenâ€™s CV / portfolio: skills, projects, experience, hobbies and goals.",

    brand_top: "Back to top",
    nav_toggle: "Open menu",
    mnav_label: "Mobile navigation",

    nav_about: "About",
    nav_skills: "Skills",
    nav_projects: "Projects",
    nav_xp: "Experience",
    nav_hobbies: "Hobbies",
    nav_contact: "Contact",

    hero_pill: "Interactive CV â€¢ HTML/CSS â€¢ Animations âœ¨",
    hero_photo_alt: "Photo of Hassen",
    hero_hi: "Hi, I'm",
    hero_typing: "Creative + Tech",
    hero_lead:
      "I love building projects (web, code, lore) and learning continuously. Here youâ€™ll find my profile, skills, projects, and at the bottom my hobbies + goals ðŸŽ¯",
    hero_btn_projects: "View my projects",
    hero_btn_contact: "Contact me",

    stat_num_1: "Unity",
    stat_label_1: "Creative projects",
    stat_num_2: "C / Web",
    stat_label_2: "Tech & build",
    stat_num_3: "Raspberry",
    stat_label_3: "Hardware",

    profile_card_label: "Profile card",
    profile_role: "Versatile profile â€¢ Creative â€¢ Growing developer ðŸš€",
    chip_rpi: "Raspberry Pi",
    chip_writing: "Writing",
    profile_loc: "Location",
    profile_loc_value: "France ðŸ‡«ðŸ‡·",
    profile_avail: "Availability",
    profile_avail_value: "Available!",
    profile_email: "Email",

    about_title: "About",
    about_sub: "A few lines to explain who I am, what I do, and what I love ðŸ”¥",
    about_profile_title: "My profile",
    about_profile_p:
      "Very curious and creative: I mix coding, technical projects, and worldbuilding. I love learning, testing, iterating, improving ideas, and discovering new things!",
    about_li_1: "ðŸ’¡ Creativity: writing, lore, ideas, storytelling",
    about_li_2: "ðŸ› ï¸ Tech: C, scripts, Raspberry Pi, web",
    about_li_3: "ðŸ“ˆ Growth: discipline, learning, exploration",
    about_seek_title: "What Iâ€™m looking for",
    about_seek_p:
      "Projects where I can be useful, grow, and build something solid with a touch of style and identity. As Vegeta would say: â€œA true warrior never gives up.â€ ðŸ˜",
    about_tag_1: "Development",
    about_tag_2: "Creation",
    about_tag_3: "Systems & UI",
    about_tag_4: "Storytelling",

    skills_title: "Skills",
    skills_sub: "A clean, fast format â€” like a CV âœ…",
    skills_web_title: "Web",
    skills_web_li1: "Semantic HTML",
    skills_web_li2: "CSS (layout, responsive, animations)",
    skills_web_li3: "Clean & readable UI",
    skills_web_hint: "Level: improving ðŸ“ˆ",
    skills_code_title: "Code",
    skills_code_li1: "C (solid fundamentals, logic)",
    skills_code_li2: "Scripts & debugging",
    skills_code_li3: "Raspberry Pi / small projects",
    skills_code_hint: "Level: improving ðŸ§ ",
    skills_crea_title: "Creative",
    skills_crea_li1: "Lore & narrative universe building",
    skills_crea_li2: "Worldbuilding & systems",
    skills_crea_li3: "Branding / visual identity",
    skills_crea_hint: "Level: very comfortable âœï¸",

    projects_title: "Projects",
    projects_sub: "A selection of my personal and professional projects ðŸ’ª",
    badge_tech: "Tech",
    badge_crea: "Creative",
    badge_web: "Web",
    proj_rpi_title: "Raspberry Pi LCD",
    proj_rpi_p: "Text display / menus / interactions on an LCD screen, C logic, GPIO, etc.",
    proj_universe_title: "Narrative universe",
    proj_universe_p: "Building a universe: characters, lore, magic systems and storytelling.",
    proj_cv_title: "Interactive CV",
    proj_cv_p: "Modern CV page in HTML/CSS, animations, sections, responsive design.",
    proj_view: "View â†’",
    mini_story: "Story",
    mini_lore: "Lore",
    mini_world: "World",
    mini_anim: "Anim",

    xp_title: "Experience",
    xp_sub: "Simple timeline format (replace with your real info) ðŸ§­",
    xp_2025_title: "2025 â€” Project / Training",
    xp_2025_desc: "Short description: what you learn, what you build.",
    xp_2024_title: "2024 â€” Experience / Studies",
    xp_2024_desc: "Short description: responsibilities, learnings, results.",
    xp_before_title: "Before â€” Foundations",
    xp_before_desc: "Short description: basics, interests, growth.",

    hob_title: "Hobbies & Goals",
    hob_sub: "The human side of the CV: what you love + where you want to go ðŸŒ™",
    hob_hobbies_title: "Hobbies",
    hob_li_1: "ðŸŽ® Narrative games & inspirations (e.g. dark universes)",
    hob_li_2: "âœï¸ Writing & worldbuilding",
    hob_li_3: "âœˆï¸ Travel",
    hob_li_4: "ðŸŽ§ Music (customize)",
    obj_title: "Goals",
    obj_li_1: "ðŸŽ¯ Level up in dev (C + Web)",
    obj_li_2: "ðŸ“š Learn something every day",
    obj_li_3: "ðŸ§  Build mental resilience",
    obj_li_4: "ðŸš€ Publish / present my projects cleanly",
    signature_label: "Signature line:",
    signature_quote: "â€œBuild, learn, refine.â€",

    lang_spoken: "Languages spoken",
    lang_learning: "Learning",
    lang_fr: "French",
    lang_en: "English",
    lang_es: "Spanish",
    lang_ru: "Russian",
    lang_level_native: "Native",
    lang_level_intermediate: "Intermediate",
    lang_in_progress: "In progress",
    lang_discovery: "Exploring",

    contact_title: "Contact",
    contact_sub: "Like my profile? Letâ€™s talk ðŸ‘€",
    contact_details: "Details",
    contact_k_email: "Email",
    contact_k_github: "GitHub",
    contact_k_linkedin: "LinkedIn",
    contact_msg_title: "Quick message",
    contact_msg_p: "Here you can write a short pitch: â€œIâ€™m available forâ€¦â€, â€œIâ€™m looking forâ€¦â€, etc.",
    contact_send_mail: "Send an email âœ‰ï¸",

    footer_line: "Â© 2025 â€” Hassen â€¢ Made with HTML/CSS âœ¨",
    footer_tip: "Tip: replace the â€œto fillâ€ texts with your info."
  }
};

function setTextOrAttr(el, value) {
  const attr = el.getAttribute("data-i18n-attr");
  if (attr) el.setAttribute(attr, value);
  else el.textContent = value;
}

function restartTyping() {
  const el = document.getElementById("typingTitle");
  if (!el) return;

  const reduce = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  if (reduce) return;

  const full = el.textContent.trim();
  el.textContent = "";
  el.classList.add("typingCursor");

  let i = 0;
  clearInterval(window.__typingTimer);

  window.__typingTimer = setInterval(() => {
    el.textContent += full[i] ?? "";
    i++;
    if (i >= full.length) {
      clearInterval(window.__typingTimer);
      window.__typingTimer = null;
    }
  }, 120);
}

function applyLang(lang) {
  document.documentElement.lang = lang;
  localStorage.setItem("lang", lang);

  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.dataset.i18n;
    const value = dict?.[lang]?.[key];
    if (value != null) setTextOrAttr(el, value);
  });

  const flag = document.getElementById("langFlag");
  const btn = document.getElementById("langBtn");
  if (flag && btn) {
    if (lang === "fr") {
      flag.textContent = "FR";
      btn.setAttribute("aria-label", "Switch to English");
    } else {
      flag.textContent = "EN";
      btn.setAttribute("aria-label", "Passer en franÃ§ais");
    }
  }

  restartTyping();
}

document.addEventListener("DOMContentLoaded", () => {
  const saved = localStorage.getItem("lang") || "fr";
  applyLang(saved);

  document.getElementById("langBtn")?.addEventListener("click", () => {
    const current = localStorage.getItem("lang") || "fr";
    applyLang(current === "fr" ? "en" : "fr");
  });
});
